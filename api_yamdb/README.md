# api_yamdb
api_yamdb
## Описание проекта:
Проект YaMDb собирает отзывы (Review) пользователей на произведения (Titles). Произведения делятся на категории: «Книги», «Фильмы», «Музыка». Список категорий (Category) может быть расширен администратором (например, можно добавить категорию «Изобразительное искусство» или «Ювелирка»).
### Пользовательские роли:
- Аноним — может просматривать описания произведений, читать отзывы и комментарии.
- Аутентифицированный пользователь (user) — может читать всё, как и Аноним, может публиковать отзывы и ставить оценки произведениям (фильмам/книгам/песенкам), может комментировать отзывы; может редактировать и удалять свои отзывы и комментарии, редактировать свои оценки произведений. Эта роль присваивается по умолчанию каждому новому пользователю.
- Модератор (moderator) — те же права, что и у Аутентифицированного пользователя, плюс право удалять и редактировать любые отзывы и комментарии.
- Администратор (admin) — полные права на управление всем контентом проекта. Может создавать и удалять произведения, категории и жанры. Может назначать роли пользователям.
- Суперюзер Django должен всегда обладать правами администратора, пользователя с правами admin. Даже если изменить пользовательскую роль суперюзера — это не лишит его прав администратора. Суперюзер — всегда администратор, но администратор — не обязательно суперюзер.
### Регистрация пользователя:
#### Самостоятельная регистрация новых пользователей:
1.  Пользователь отправляет POST-запрос с параметрами `email` и username на эндпоинт `/api/v1/auth/signup/`.
2.  Сервис YaMDB отправляет письмо с кодом подтверждения `(confirmation_code)` на указанный адрес `email`.
3.  Пользователь отправляет POST-запрос с параметрами username  и `confirmation_code` на эндпоинт `/api/v1/auth/token/`, в ответе на запрос ему `token (JWT-токен)`.

#### Создание пользователя администратором:
Пользователя может создать администратор — через админ-зону сайта или через POST-запрос на специальный эндпоинт `api/v1/users/` (описание полей запроса для этого случая — в документации). В этот момент письмо с кодом подтверждения пользователю отправлять не нужно.
После этого пользователь должен самостоятельно отправить свой `email` и username на эндпоинт `/api/v1/auth/signup/` , в ответ ему должно прийти письмо с кодом подтверждения.
Далее пользователь отправляет POST-запрос с параметрами username и `confirmation_code` на эндпоинт `/api/v1/auth/token/`, в ответе на запрос ему приходит `token (JWT-токен)`, как и при самостоятельной регистрации.
### Как запустить проект:
```
Cоздать и активировать виртуальное окружение:
python -m venv env
source env/bin/activate
python -m pip install --upgrade pip
```
Установить зависимости из файла requirements.txt:
```
pip install -r requirements.txt
```

Перейти в основную папку и выполнить миграции:

```
cd api_yamdb
```

Выполнить миграцию:

```
python manage.py migrate
```

Заполненить базу данных CSV-файлами:

```
python manage.py uploadDB users.csv category.csv genre.csv genre_title.csv titles.csv review.csv comments.csv
```

Выполнить миграции:

```
python3 manage.py migrate
```

Запустить проект:
```
python3 manage.py runserver
```
### Документация к API:
Документация к API доступна после запуска проекта по ссылке: [http://127.0.0.1/redoc/](http://127.0.0.1/redoc/])
### Используемые технологии:
```
Python 3.8.10, Django 4.4, Django ORM, Django REST Framework (DRF), REST API, SQLite3, CSRF, Paginator, Simple-JWT
```
### Разработчики:

[Оксана Корж:](https://github.com/InsaraOK) управление пользователями (Auth и Users): система регистрации и аутентификации пользователей, пользовательские роли и права доступа, работа с токеном, система подтверждения через e-mail.

[Антон Антаносян:](https://github.com/AntanosianAnton) категории (Categories), жанры (Genres) и произведения (Titles): модели, view и эндпойнты. Рейтинги произведений.

[Денис Иванов:](https://github.com/Dreesdree) отзывы (Review) и комментарии (Comments): модели, view и эндпойнты.